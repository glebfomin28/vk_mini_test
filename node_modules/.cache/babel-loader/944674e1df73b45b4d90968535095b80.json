{"ast":null,"code":"import _slicedToArray from\"D:/vk/test/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import style from\"./ItemFrame.module.css\";import coin from\"../img/coin.svg\";import{useDispatch,useSelector}from\"react-redux\";import{coinReduction}from\"../../../Redux/bankCoinsSlice_reducers\";import{purchaseItem}from\"../../../Redux/buyItemSlice_reducers\";import{Snackbar}from\"@vkontakte/vkui\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ItemFrame(elItem){var dispatch=useDispatch();var bankCoins=useSelector(function(state){return state.bankCoins.bankCoinNum;});var priceItem=useSelector(function(state){return state.item.itemList[elItem.id-1].price;});var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),snackbar=_React$useState2[0],setSnackbar=_React$useState2[1];var openAction=function openAction(){if(snackbar)return;setSnackbar(/*#__PURE__*/_jsx(Snackbar,{onClose:function onClose(){return setSnackbar(null);},children:\"\\u0421\\u043B\\u0438\\u0448\\u043A\\u043E\\u043C \\u0432\\u044B\\u0441\\u043E\\u043A\\u0430\\u044F \\u0430\\u043A\\u0442\\u0438\\u0432\\u043D\\u043E\\u0441\\u0442\\u044C\"}));};console.log(bankCoins);var flag=true;var style_name={color:\"#000000\"};var body_gray={opacity:\"1\"};if(priceItem>=1000){style_name.color=\"#af0000\";}// Если цена достигла +=1200 затемнить\nif(priceItem>=1200){style_name.color=\"#6b6a6a\";body_gray.opacity=\"0.3\";flag=false;}// Всплывающие сообщение\nvar flag_2=true;if(bankCoins<=15000&&flag_2){flag_2=false;openAction();}//Сброс приложения\nif(bankCoins<=0){elItem.modalRootFunc();}var clickItem=function clickItem(){if(priceItem>=1200){elItem.limitExceeded();}if(flag){dispatch(coinReduction(elItem.price));dispatch(purchaseItem(elItem.id-1));}};return/*#__PURE__*/_jsxs(\"div\",{onClick:clickItem,className:style.item_frame,style:body_gray,children:[/*#__PURE__*/_jsx(\"div\",{className:style.img_box,children:/*#__PURE__*/_jsx(\"img\",{src:elItem.imgItem})}),/*#__PURE__*/_jsx(\"div\",{className:style.name_item,style:style_name,children:elItem.name}),/*#__PURE__*/_jsxs(\"div\",{className:style.price_coin,children:[/*#__PURE__*/_jsx(\"img\",{src:coin}),/*#__PURE__*/_jsx(\"div\",{className:style.price_coin_text,children:priceItem})]}),snackbar]});}export default ItemFrame;","map":{"version":3,"sources":["D:/vk/test/src/Components/Frame/ItemFrame/ItemFrame.jsx"],"names":["React","style","useDispatch","useSelector","coinReduction","purchaseItem","Snackbar","ItemFrame","elItem","dispatch","bankCoins","state","bankCoinNum","priceItem","item","itemList","id","price","useState","snackbar","setSnackbar","openAction","console","log","flag","style_name","color","body_gray","opacity","flag_2","modalRootFunc","clickItem","limitExceeded","item_frame","img_box","imgItem","name_item","name","price_coin","coin","price_coin_text"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport style from \"./ItemFrame.module.css\";\nimport coin from \"../img/coin.svg\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {coinReduction} from \"../../../Redux/bankCoinsSlice_reducers\";\nimport {purchaseItem} from \"../../../Redux/buyItemSlice_reducers\";\nimport { Snackbar} from \"@vkontakte/vkui\";\n\nfunction ItemFrame(elItem) {\n    const dispatch = useDispatch();\n    let bankCoins = useSelector(state => state.bankCoins.bankCoinNum)\n    let priceItem = useSelector(state => state.item.itemList[elItem.id - 1].price)\n    const [snackbar, setSnackbar] = React.useState(null);\n\n    const openAction = () => {\n        if (snackbar) return;\n        setSnackbar(\n            <Snackbar\n                onClose={() => setSnackbar(null)}\n            >\n                Слишком высокая активность\n            </Snackbar>\n        );\n    };\n    console.log(bankCoins)\n\n    let flag = true;\n\n    const style_name = {\n        color: \"#000000\",\n    }\n\n    let body_gray = {\n        opacity: \"1\",\n    }\n\n    if (priceItem >= 1000) {\n        style_name.color = \"#af0000\";\n\n    }\n\n    // Если цена достигла +=1200 затемнить\n    if (priceItem >= 1200) {\n        style_name.color = \"#6b6a6a\";\n        body_gray.opacity = \"0.3\"\n        flag = false\n    }\n\n    // Всплывающие сообщение\n    let flag_2 = true;\n    if (bankCoins <= 15000 && flag_2) {\n        flag_2 = false\n        openAction()\n    }\n\n    //Сброс приложения\n    if (bankCoins <= 0) {\n        elItem.modalRootFunc()\n    }\n\n    const clickItem = () => {\n        if (priceItem >= 1200) {\n            elItem.limitExceeded()\n        }\n        if (flag) {\n            dispatch(coinReduction(elItem.price));\n            dispatch(purchaseItem(elItem.id - 1));\n        }\n\n    }\n    return (\n        <div onClick={clickItem} className={style.item_frame} style={body_gray} >\n            <div className={style.img_box}>\n                <img src={elItem.imgItem}/>\n            </div>\n            <div className={style.name_item} style={style_name}>{elItem.name}</div>\n            <div className={style.price_coin}>\n                <img src={coin}/>\n                <div className={style.price_coin_text}>{priceItem}</div>\n            </div>\n            {snackbar}\n        </div>\n    );\n\n\n}\nexport default ItemFrame;\n"]},"metadata":{},"sourceType":"module"}